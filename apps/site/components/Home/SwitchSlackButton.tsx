import { Button, ButtonProps, SlackIcon, useBreakpoint } from '@campsite/ui'

export function SwitchSlackButton({
  onClick,
  showOptionalTip = true,
  ...props
}: Omit<ButtonProps, 'round' | 'href' | 'externalLink' | 'variant'> & {
  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void
  showOptionalTip?: boolean
}) {
  const isSm = useBreakpoint('sm')

  return (
    <span className='relative flex w-full flex-1 sm:w-auto sm:flex-none'>
      <Button
        size='large'
        fullWidth={!isSm}
        href='/switch-from-slack'
        variant='flat'
        leftSlot={<SlackIcon size={16} />}
        onClick={onClick}
        {...props}
      >
        Switch from Slack
      </Button>
      {showOptionalTip && <OptionalTip />}
    </span>
  )
}

function OptionalTip() {
  return (
    <svg
      className='-right-22 absolute -top-5 hidden rotate-[7deg] opacity-50 lg:flex'
      width='99'
      height='47'
      viewBox='0 0 99 47'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <path
        d='M25.9434 35.5547C25.6152 34.8164 25.4512 33.9482 25.4512 32.9502C25.4512 31.9521 25.6084 31.0703 25.9229 30.3047C26.251 29.5254 26.6953 28.8555 27.2559 28.2949C28.4453 27.1328 29.9355 26.5518 31.7266 26.5518C33.5996 26.5518 35.1445 26.9824 36.3613 27.8438C37.7285 28.8281 38.4121 30.2363 38.4121 32.0684C38.4121 34.3379 37.8857 36.0127 36.833 37.0928C35.7939 38.1729 34.167 38.7129 31.9521 38.7129C28.876 38.7129 26.873 37.6602 25.9434 35.5547ZM27.1328 32.54C27.1328 35.7666 28.7598 37.3799 32.0137 37.3799C33.6133 37.3799 34.9121 36.9014 35.9102 35.9443C36.9082 35.001 37.4072 33.7637 37.4072 32.2324C37.4072 30.7969 36.8125 29.7031 35.623 28.9512C34.6113 28.2949 33.333 27.9668 31.7881 27.9668C30.5576 27.9668 29.4707 28.4111 28.5273 29.2998C27.5977 30.1885 27.1328 31.2686 27.1328 32.54Z'
        fill='currentColor'
      />
      <path
        d='M41.5908 30.7764C43.4502 30.1338 45.0566 29.8125 46.4102 29.8125C48.1328 29.8125 49.2812 30.2637 49.8555 31.166C50.1152 31.5898 50.2451 32.0479 50.2451 32.54C50.2451 33.2236 50.0264 33.9277 49.5889 34.6523C49.165 35.377 48.5977 36.0332 47.8867 36.6211C46.2324 37.9746 44.2227 38.8154 41.8574 39.1436C41.8574 39.2939 41.8574 39.5332 41.8574 39.8613C41.8711 40.2031 41.8779 40.5791 41.8779 40.9893C41.8916 41.3994 41.8984 41.8369 41.8984 42.3018C41.9121 42.7666 41.9258 43.2109 41.9395 43.6348C41.9805 44.6875 42.0078 45.2891 42.0215 45.4395C42.0488 45.5898 42.0625 45.7129 42.0625 45.8086C42.0625 46.1504 41.9531 46.4033 41.7344 46.5674C41.5156 46.7451 41.2285 46.834 40.873 46.834C40.8047 46.834 40.7363 46.834 40.668 46.834L40.3398 30.3457C40.4629 30.168 40.627 30.0859 40.832 30.0996C41.0371 30.1133 41.2012 30.168 41.3242 30.2637C41.4473 30.3594 41.5361 30.5303 41.5908 30.7764ZM47.5791 31.4941C47.1279 31.2617 46.6426 31.1455 46.123 31.1455C45.6172 31.1455 45.1113 31.1934 44.6055 31.2891C43.457 31.5078 42.6094 31.9932 42.0625 32.7451C41.8164 33.1006 41.6934 33.5381 41.6934 34.0576C41.6934 34.1123 41.6934 34.167 41.6934 34.2217V37.7695C44.5098 37.1406 46.5059 36.2656 47.6816 35.1445C48.3652 34.502 48.707 33.8389 48.707 33.1553C48.707 32.4307 48.3311 31.877 47.5791 31.4941Z'
        fill='currentColor'
      />
      <path
        d='M54.4082 37.0312L54.4492 33.75C54.4492 33.2305 54.4014 32.7861 54.3057 32.417H51.127L51.0859 31.002H54.1621V25.7109C54.2031 25.5879 54.2852 25.4648 54.4082 25.3418C54.5996 25.1504 54.7568 25.0547 54.8799 25.0547C55.0166 25.0547 55.1328 25.0684 55.2285 25.0957C55.3242 25.123 55.4268 25.2188 55.5361 25.3828C55.7549 26.2852 55.8643 27.6455 55.8643 29.4639C55.8643 29.915 55.8848 30.3594 55.9258 30.7969C56.3633 30.7422 56.8008 30.7148 57.2383 30.7148C57.2383 30.7148 57.5938 30.7148 58.3047 30.7148C58.5645 30.7148 58.8037 30.7012 59.0225 30.6738L58.9609 32.1504L55.9668 32.0684L56.0693 39.1436C55.8232 39.2529 55.6113 39.3076 55.4336 39.3076C54.75 39.3076 54.4082 38.5488 54.4082 37.0312Z'
        fill='currentColor'
      />
      <path
        d='M61.6475 29.3613C61.8252 31.918 61.9756 34.8779 62.0986 38.2412C62.0166 38.665 61.6885 38.877 61.1143 38.877C60.9639 38.877 60.8066 38.8496 60.6426 38.7949C60.4922 38.7266 60.3965 38.6377 60.3555 38.5283V29.3613H61.6475ZM59.7402 26.5723C59.7402 26.0938 60.0205 25.8545 60.5811 25.8545C60.9502 25.8545 61.251 25.9365 61.4834 26.1006C61.5244 26.251 61.5449 26.4014 61.5449 26.5518C61.5449 26.6885 61.4902 26.8252 61.3809 26.9619C61.2715 27.0986 61.1074 27.167 60.8887 27.167C60.6699 27.167 60.4512 27.1191 60.2324 27.0234C60.0137 26.9141 59.8496 26.7637 59.7402 26.5723Z'
        fill='currentColor'
      />
      <path
        d='M63.4932 35.1035C63.4932 33.4902 64.1904 32.1914 65.585 31.207C66.6924 30.4277 68.0254 29.9561 69.584 29.792C69.666 29.792 69.8574 29.792 70.1582 29.792C70.459 29.792 70.8623 29.8809 71.3682 30.0586C72.4893 30.4414 73.2549 31.1182 73.665 32.0889C73.8291 32.4717 73.9111 32.7998 73.9111 33.0732C73.9111 33.333 73.9043 33.5176 73.8906 33.627C73.8906 35.3359 73.2412 36.6826 71.9424 37.667C70.7393 38.5693 69.2354 39.0205 67.4307 39.0205C66.1318 39.0205 65.1475 38.7197 64.4775 38.1182C63.8213 37.5166 63.4932 36.5117 63.4932 35.1035ZM64.9082 35.5957C64.9082 36.4434 65.1338 37.0176 65.585 37.3184C65.9268 37.5371 66.501 37.6465 67.3076 37.6465C68.1143 37.6465 68.8252 37.585 69.4404 37.4619C70.0557 37.3389 70.6025 37.127 71.0811 36.8262C72.1064 36.1699 72.6191 35.1514 72.6191 33.7705C72.6191 32.9502 72.4004 32.2803 71.9629 31.7607C71.4844 31.2002 70.8555 30.9199 70.0762 30.9199C69.543 31.0156 69.0029 31.1182 68.4561 31.2275C67.9229 31.3369 67.417 31.5488 66.9385 31.8633C65.8994 32.5332 65.2227 33.7773 64.9082 35.5957Z'
        fill='currentColor'
      />
      <path
        d='M82.791 34.5088C82.791 32.8818 82.7021 31.6855 82.5244 30.9199C82.6338 30.7148 82.4697 30.6123 82.0322 30.6123C81.5674 30.6123 80.9658 30.7285 80.2275 30.9609C79.4893 31.1934 78.8877 31.4258 78.4229 31.6582C77.3154 32.1914 76.7002 32.7109 76.5771 33.2168V38.7949H75.2031C75.0254 38.3301 74.9365 37.0244 74.9365 34.8779C74.9365 32.9639 74.9707 31.5557 75.0391 30.6533C75.1211 29.751 75.1826 29.2383 75.2236 29.1152C75.5791 28.8828 75.8662 28.7666 76.085 28.7666C76.4268 28.7666 76.5977 29.1699 76.5977 29.9766C76.5977 30.291 76.5771 30.5986 76.5361 30.8994C76.5088 31.1865 76.4951 31.3848 76.4951 31.4941C78.71 29.8672 80.4258 29.0537 81.6426 29.0537C83.0234 29.0537 83.8096 30.168 84.001 32.3965C84.083 33.1758 84.124 34.2559 84.124 35.6367L84.1035 37.2568C84.1035 37.8584 84.1172 38.4395 84.1445 39C84.0078 39.082 83.8984 39.123 83.8164 39.123C83.7754 39.1094 83.6865 39.0889 83.5498 39.0615C83.4131 39.0342 83.2354 39.0137 83.0166 39C82.8799 38.4531 82.8047 37.8994 82.791 37.3389C82.7773 36.7646 82.7705 36.2383 82.7705 35.7598L82.791 34.5088Z'
        fill='currentColor'
      />
      <path
        d='M93.3525 35.5957C92.3271 37.209 90.96 38.207 89.251 38.5898C88.8545 38.6719 88.4922 38.7129 88.1641 38.7129C87.8496 38.7129 87.583 38.7129 87.3643 38.7129C87.1592 38.6992 86.9268 38.665 86.667 38.6104C86.4072 38.5557 86.168 38.4668 85.9492 38.3438C85.4434 38.0566 85.1904 37.6533 85.1904 37.1338C85.1357 36.8877 85.1084 36.6143 85.1084 36.3135C85.1084 35.999 85.1768 35.5889 85.3135 35.083C85.4502 34.5771 85.6963 34.0303 86.0518 33.4424C86.4209 32.8545 86.8652 32.3145 87.3848 31.8223C88.4648 30.7832 89.6338 30.1133 90.8916 29.8125C91.2607 29.7305 91.5957 29.6895 91.8965 29.6895C92.2109 29.6895 92.4912 29.71 92.7373 29.751C93.5303 29.751 94.0635 30.291 94.3369 31.3711C94.5146 32.0547 94.6172 33.0117 94.6445 34.2422C94.6855 35.459 94.7197 36.4023 94.7471 37.0723C94.7881 37.7285 94.877 38.3301 95.0137 38.877H93.8037C93.749 38.5078 93.708 38.1797 93.6807 37.8926C93.6533 37.6055 93.626 37.3389 93.5986 37.0928C93.5303 36.5186 93.4482 36.0195 93.3525 35.5957ZM93.2705 32.417C93.2705 31.624 92.8809 31.2275 92.1016 31.2275C92.0059 31.2139 91.9102 31.207 91.8145 31.207C90.8164 31.207 89.7637 31.6855 88.6562 32.6426C88.1367 33.0801 87.6924 33.5723 87.3232 34.1191C86.7764 34.8984 86.5029 35.5957 86.5029 36.2109C86.5029 37.0176 86.9678 37.4961 87.8975 37.6465C89.1279 37.6191 90.3037 37.0586 91.4248 35.9648C91.9033 35.4863 92.2998 34.9668 92.6143 34.4062C93.0518 33.6543 93.2705 32.9912 93.2705 32.417Z'
        fill='currentColor'
      />
      <path
        d='M96.3467 31.043C96.3193 30.3047 96.292 29.6484 96.2646 29.0742C96.2373 28.4863 96.2168 28.0557 96.2031 27.7822C96.2031 27.4951 96.0938 26.8047 95.875 25.7109C95.998 25.5469 96.1143 25.3896 96.2236 25.2393C96.3467 25.0889 96.5176 25.0137 96.7363 25.0137C97.2148 25.0137 97.584 27.0303 97.8438 31.0635C97.9805 33.4014 98.0488 35.7393 98.0488 38.0771C98.0488 38.7061 97.6113 39.0205 96.7363 39.0205L96.5723 39C96.5723 38.2891 96.5518 37.3799 96.5107 36.2725C96.4697 35.165 96.4355 34.2012 96.4082 33.3809C96.3945 32.5605 96.374 31.7812 96.3467 31.043Z'
        fill='currentColor'
      />
      <path
        className='opacity-40'
        d='M3.05729 9.3384C2.9873 8.54341 2.93131 7.7195 2.81932 6.8956C2.74933 6.43306 2.66534 5.94161 2.46937 5.52243C2.2034 4.94425 1.67146 4.62626 1.09754 4.84308C0.719583 4.98762 0.341634 5.39235 0.173655 5.76817C-0.00832194 6.18734 -0.0223168 6.70769 0.0196779 7.18469C0.24365 10.0611 0.439615 12.9376 0.761574 15.814C0.929553 17.4184 2.10541 18.2423 3.54723 17.722C4.84906 17.245 6.09491 16.5656 7.29876 15.8429C9.06254 14.7877 10.7703 13.6169 12.4921 12.475C12.6321 12.3883 12.6881 12.157 12.8001 11.9691C12.2821 10.6538 11.2043 10.4514 10.0424 10.7116C9.24451 10.8995 8.47461 11.3187 7.7327 11.7089C7.00479 12.0992 6.31887 12.5907 5.66096 13.0098C5.08703 12.5907 5.42299 12.2437 5.59096 11.9547C7.59271 8.55786 10.5883 6.28853 13.8639 4.38054C14.4939 4.00473 15.2637 3.83126 15.9917 3.71563C24.1666 2.47254 31.9776 3.64336 39.3407 7.58942C42.5043 9.29504 44.702 12.0269 46.4798 15.1346C46.8018 15.6839 46.8298 16.4066 47.0257 17.0426C47.2077 17.6642 47.6697 17.9677 48.2716 17.9966C48.9715 18.04 49.6574 17.6642 49.8254 17.0282C49.9654 16.4789 50.0634 15.8718 49.9514 15.337C49.8114 14.5998 49.5594 13.8337 49.1815 13.1833C47.0257 9.36731 44.2401 6.17289 40.3066 4.236C34.9453 1.59084 29.318 -0.0425208 23.3267 0.000842538C20.5271 0.015297 17.7414 0.000835478 14.9698 0.607922C13.29 0.983737 11.7782 1.67756 10.4204 2.71828C8.08265 4.49618 5.84294 6.3608 4.09316 8.78915C3.92518 9.00596 3.7012 9.19387 3.49123 9.36732C3.43524 9.41069 3.30926 9.36731 3.05729 9.3384Z'
        fill='currentColor'
      />
    </svg>
  )
}
